# Речници, сортирани речници, ламбда изрази и LINQ  
## Теория
### Речници и сортирани речници
Dictionary
```
var dict = new Dictionary<string, int>();
foreach (var pair in dict) 
Console.WriteLine("{0} -> {1}", pair.Key, pair.Value);
```
SortedDictionary
```
var sortedDict = new SortedDictionary<string,int>();
Console.WriteLine(String.Join(", ", sortedDict.Keys));
Console.WriteLine(String.Join(", ", sortedDict.Values));
```
Функции
- Count = пази броя на двойките от ключ-стойност
- Keys = съдържа уникалните ключове 
- Values = съдържа всички стойности
- Основни операции: [], Add(), Remove(), Clear()
- ContainsKey() = проверява дали даден ключ съществува в речника (бърза операция)
- ContainsValue() = проверява дали дадена стойност съществува в речника (бавна операция)
- TryGetValue() = проверява дали даден ключ съществува в речника и отпечатва стойността му

### LINQ
```
using System.Linq;
```
Функции
- Min() = намира най-малкия елемент в колекция
```
new List<int>() { 1, 2, 3, 4, -1, -5, 0, 50 }.Min() = -5
```
- Max() = намира най-големия елемент в колекция
```
new int[] { 1, 2, 3, 40, -1, -5, 0, 5 }.Max() = 40
```
- Sum() = намира сумата на всички елементи в колекция
```
new long[] {1, 2, 3, 4, -1, -5, 0, 50}.Sum() = 54
```
- Average() = намира средноаритметичното на всички елементи
```
new int[] {1, 2, 3, 4, -1, -5, 0, 50}.Average() = 6.75
```
- Select() = въвежда колекция на един ред
```
var nums = Console.ReadLine().Split().Select(int.Parse); // къс запис
// var nums = Console.ReadLine().Split().Select(number => int.Parse(number)); // дълъг запис
```
- ToArray() и ToList() = преобразуване на колекции
```
int[] array = Console.ReadLine().Split().Select(int.Parse).ToArray();
List<double> list = Console.ReadLine().Split().Select(double.Parse).ToList();
```
- OrderBy(), OrderByDescending() и ThenBy() = сортиране на колекции
```
List<int> nums = { 1, 5, 2, 4, 3 };
nums = nums.OrderBy(num => num).ToList();
nums = nums.OrderByDescending(num => num).ToList();
Dictionary<int, string> sortedDict = products.OrderBy(pair => pair.Value).ThenBy(pair => pair.Key).ToDictionary(pair => pair.Key, pair => pair.Value);
```
- Take() = взимане на определени елементи
```
var nums = new List<int>() { 10, 20, 30, 40, 50, 60}.Take(3).ToArray(); // nums = [10, 20, 30]
```
- Skip() = пропускане на елементи
```
var nums = new List<int>() { 10, 20, 30, 40, 50, 60}.Skip(3).Take(2).ToArray(); // nums = [40, 30]
```

### Ламбда изрази и функции
Лабда израз е анонимна функция съдържаща изрази и твърдения.
```
var lambda = (a => a > 5);
```
Ламбда функциите са внедрени методи (функции) които вземат входни параметри и връщат стойности: 
- Пример 1
```
x => x / 2
static int Func(int x) { return x / 2; }
```
- Пример 2
```
x => x != 0
static bool Func(int x) { return x != 0; }
```
- Пример 3
```
() => 42
static int Func() { return 42; }
```
- Пример 4
```
(x, y) => x+y
static int Func(int x, int y) { return x+y; }
```
Филтриране на колекции чрез Where() и Count()
```
int[] nums = { 1, 2, 3, 4, 5, 6};
nums = nums.Where(num => num % 2 == 0).ToArray(); // nums = [2, 4, 6]
int count = nums.Count(num => num % 2 == 0); // count = 3
```
Филтриране и сортиране с Ламбда функции
```
int[] nums = { 11, 99, 33, 55, 77, 44, 66, 22, 88 };
nums.OrderBy(x => x).Take(3);    // 11 22 33
nums.Where(x => x < 50);         // 11 33 44 22
nums.Count(x => x % 2 == 1);     // 5
nums.Select(x => x * 2).Take(5); // 22 198 66 110 154
```
Извличане на уникални елементи от колекция
```
int[] nums = { 1, 2, 2, 3, 4, 5, 6, -2, 2, 0, 15, 3, 1, 0, 6 };
nums = nums.Distinct().ToArray(); // nums = [1, 2, 3, 4, 5, 6, -2, 0, 15]
```
Извличане на един елемент от колекция
```
int[] nums = { 1, 2, 3, 4, 5, 6 };
int firstNum = nums.First(x => x % 2 == 0); // 1
int lastNum = nums.Last(x => x % 2 == 1); // 6
int singleNum = nums.Single(x => x == 4); // 4
```
Обръщане и слепяне на колекции
```
int[] nums = { 1, 2, 3, 4, 5, 6};
nums = nums.Reverse(); // nums = 6, 5, 4, 3, 2, 1
int[] otherNums = { 7, 8, 9, 0 };
nums = nums.Concat(otherNums); // nums = 1, 2, 3, 4, 5, 6, 7, 8, 9, 0
```

## Задачи
### 1. Нечетни срещания
Напишете програма, която извлича от поредица от думи всички елементи, които се срещат нечетен брой пъти (без значение от големината на буквите)
- Думите са въведени на един ред разделени с интервал
- Изведете получените думи с малки бувки, по реда им на поява

| Вход                           | Изход         |
| ------------------------------ | ------------- |
| Java C# PHP PHP JAVA C java    | java, c#, c   |
| 3 5 5 hi pi HO Hi 5 ho 3 hi pi | 5, hi         |
| a a A SQL xx a xx a A a XX c   | a, sql, xx, c |

Подсказки
- Използвйате речник (string -> int), за да преброите всички срещания на всяка дума (като в предната задача).
- Обходете всички двойки ключ-стойност в речника и запазете в резултатите всички ключове, които имат нечетна стойност.
- Изведете списъка с резултатите

### 2. Телефонен указател
Напишете програма, която получава информация от конзолата за хора и техните телефонни номера. Всеки запис трябва да има само едно име и телефон (и двете се пазят в низ). 
На всеки ред ще получите някоя от следните команди:
- A {име} {телефон} = добавя записа към телефонния указател. В случай че се добавя име, което вече съществува в указателя трябва да смените съществуващия номер с новия.
- S {име} = търси се човек с такива име и се извежда резултат във формат "{име} -> {номер}". В случай на несъществуващ контакт, изведете "Contact {име} does not exist.".
- END = спира получаването на команди.

| Вход               | Изход                           |
| ------------------ | ------------------------------- |
| A Nakov 0888080808 | Contact Mariika does not exist. |
| S Mariika          | Nakov -> 0888080808             |
| S Nakov            |                                 |
| END	             |                                 |

| Вход                  | Изход                         |
| --------------------- | ----------------------------- |
| A Nakov +359888001122 | Misho -> 02/3123              |
| A RoYaL(Ivan) 666     | Simo -> 02/987665544          |
| A Gero 5559393        | Contact simo does not exist.  |
| A Simo 02/987665544   | Contact RoYaL does not exist. |
| S Simo                | RoYaL(Ivan) -> 666            |
| S simo                |                               |
| S RoYaL               |                               |
| S RoYaL(Ivan)         |                               |
| END	                |                               |

| Вход               | Изход            |
| ------------------ | ---------------- |
| A Misho +359883123 | Misho -> 02/3123 |
| A Misho 02/3123    |                  |
| S Misho            |                  |
| END	             |                  |

Подсказки
- Обработвайте командите като ги разделяте чрез интервал. Изпълнявайте командите докато не стигнете до "END".
- Съхранявайте указателя в Dictionary<string, string> с ключ {име} и стойност {телефонен номер}.

### 3. Миньорска задача
Получавате поредица от низове, всеки на нов ред. Всеки нечетен ред на конзолата показва полезно изкопаемо (злато, сребро, мед и т.н.), а всеки четен - количество. 
Вашата задача е да съберете изкопаемите и да изпечатате всяко на нов ред. 
Изведете изкопаемите и техните количества във формат: {resource} -> {quantity}
Количествата ще бъдат в интервала [1 ... 2 000 000 000]

| Вход   | Изход        |
| ------ | ------------ |
| Gold   | Gold -> 155  |
| 155    | Silver -> 10 |
| Silver | Copper -> 17 |
| 10     |              |
| Copper |              |
| 17     |              |
| stop	 |              |

| Вход   | Изход        |
| ------ | ------------ |
| gold   | gold -> 170  |
| 155    | silver -> 10 |
| silver | copper -> 17 |
| 10     |              |
| copper |              |
| 17     |              |
| gold   |              |
| 15     |              |
| stop	 |              |

### 4. Супермаркет
Напишете програма, която пази информация за продукти и техните цени. Всеки продукт си има име, цена и количество. Ако продъктът не съществува в базата данни, той се добавя със стартово количество.
Ако получите продукт, който вече съществува, то ще увеличите неговото количество и ако цената е различна, ще замените старата с новата цена.
Ще получите име, цена и количество за всеки продукт на нов ред. Накрая ще стои команда "stocked". При нейното срещане, изведете всичките артикули с техните име, цена, наличност и обща цена на вски продукти с това име. Когато изведете всички продукти, изведете и общата цена на всички артикули.
Важно: Общата цена се изчислява на базата на най-новата цена за всеки продукт

Вход
- Докато не получите "stocked", ще получавате продукту във формат: "{име} {цена} {количество}".
- Данните ще бъдат винаги отделени от един интервал

Изход
- Изведете информацията за всеки продукт, следвайки формата: "{име}: ${цена:F2} * {количество} = ${общо:F2}"
- На следващия ред, изведете 30 тиренца.
- На последния ред, изведете общо: "Grand Total: ${grandTotal:F2}"

| Вход             | Изход                          |
| ---------------- | ------------------------------ |
| Beer 2.20 100    | Beer: $2.20 * 100 = $220.00    |
| IceTea 1.50 50   | IceTea: $1.50 * 50 = $75.00    |
| NukaCola 3.30 80 | NukaCola: $3.30 * 80 = $264.00 |
| Water 1.00 500   | Water: $1.00 * 500 = $500.00   |
| stocked	       | ------------------------------ |
|                  | Grand Total: $1059.00          |

| Вход            | Изход                         |
| --------------- | ----------------------------- |
| Beer 2.40 350   | Beer: $1.20 * 550 = $660.00   |
| Water 1.25 200  | Water: $1.25 * 200 = $250.00  |
| IceTea 5.20 100 | IceTea: $0.50 * 220 = $110.00 |
| Beer 1.20 200   | ----------------------------- |
| IceTea 0.50 120 | Grand Total: $1020.00         |
| stocked	      |                               |

| Вход                       | Изход                                    |
| -------------------------- | ---------------------------------------- |
| CesarSalad 10.20 25        | CesarSalad: $10.20 * 25 = $255.00        |
| SuperEnergy 0.80 400       | SuperEnergy: $0.80 * 400 = $320.00       |
| EvenSupererEnergy 1.00 400 | EvenSupererEnergy: $1.00 * 400 = $400.00 |
| Beer 1.35 350              | Beer: $1.35 * 350 = $472.50              |
| beer 0.50 450              | beer: $0.50 * 450 = $225.00              |
| IceCream 1.50 25           | IceCream: $1.50 * 25 = $37.50            |
| stocked	                 | ---------------------------------------- |
|                            | Grand Total: $1710.00                    |
